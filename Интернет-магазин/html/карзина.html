<!DOCTYPE html>
<html lang="ru">
<head>
  <title>–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω</title>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–∏–º–µ—Ä –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–∞–Ω–µ–ª–∏</title>
	<link rel="stylesheet" href="..\css\katalog.css">
  <style>
 #cart-container {
  align-items: center;    /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ (–ø–æ —Ü–µ–Ω—Ç—Ä—É) */
}

#cart {
  /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã (–µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ) */
}

#cart-image {
  width: 500px; /*  –ù–∞–ø—Ä–∏–º–µ—Ä, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —à–∏—Ä–∏–Ω—É –∫–∞—Ä—Ç–∏–Ω–∫–∏ */
  height: auto; /*  –ß—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ */
  float: right;
}
  </style>
</head>
<body>
<div id="header">
	<div class="container">
     <a href="–ì–ª–∞–≤–Ω–∞—è.html">
  <svg width="100" height="100" viewBox="0 22 100 50" xmlns="http://www.w3.org/2000/svg">
    <image href="..\img\log.svg" x="0" y="0" width="100" height="100"></image>
  </svg>
  <div class="text-content">
		<h1>üõçÔ∏è –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫-–¥–æ–º!</h1>
		<p>–õ—É—á—à–∏–µ —Ç–æ–≤–∞—Ä—ã –ø–æ –ª—É—á—à–∏–º —Ü–µ–Ω–∞–º</p>
		</div>
	</a>
		</div>
      <nav>
        <ul>
          <li><a href="–ì–ª–∞–≤–Ω–∞—è.html" onclick="showCategory('all')" >–ì–ª–∞–≤–Ω–∞—è</a></li>
          <li><a href="–∫–∞—Ç–∞–ª–æ–≥.html" onclick="showCategory('all')" class="active">–ü—Ä–æ–¥—É–∫—Ç—ã</a></li>
          <li><a href="–æ –Ω–∞—Å.html" onclick="toggleAbout()">–û –Ω–∞—Å</a></li>
          <li><a href="#">–ö–æ—Ä–∑–∏–Ω–∞</a></li>
        </ul>
      </nav>
      <div class="search">
        <input type="text" placeholder="–ü–æ–∏—Å–∫" id="searchInput">
        <button id="searchButton">–ù–∞–π—Ç–∏</button>
      </div>
    </div>
   </div>
   
  <h2>üß∫ –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
  <div id="cart-container">
  <div id="cart">
    <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä–∑–∏–Ω–∞ -->
  </div>
  <img id="cart-image" src="../img/—ç–º–º–º.png" alt="–ö–æ—Ä–∑–∏–Ω–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏" style="display: none; align: right;">
</div>
  <div class="fun">
  
  </div>
<script>
    let cart = []; // –û–±—ä—è–≤–ª—è–µ–º cart –∑–¥–µ—Å—å (–≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –±—ã–ª–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤–æ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö)

function addToCart(name, price) { // –û—Å—Ç–∞–≤–ª—è–µ–º, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –æ—à–∏–±–æ–∫, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç—É—Ç
    // –≠—Ç–æ—Ç –∫–æ–¥ –Ω–µ –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–æ—Ä–∑–∏–Ω—ã
    console.warn("addToCart –Ω–µ –¥–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–æ—Ä–∑–∏–Ω—ã");
}

function removeFromCart(index) {
    if (cart[index].qty > 1) {
        cart[index].qty -= 1; // –£–º–µ–Ω—å—à–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –µ—Å–ª–∏ –±–æ–ª—å—à–µ 1
    } else {
        cart.splice(index, 1); // –£–¥–∞–ª—è–µ–º —Ç–æ–≤–∞—Ä, –µ—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–≤–Ω–æ 1
    }
    saveCartToLocalStorage();
    renderCart();
}

function renderCart() {
    let out = '';
    const cartImage = document.getElementById('cart-image');

    if (cart.length === 0) {
        out = '<div class="empty">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞ üôÉ</div>';
        cartImage.style.display = 'none'; // –°–∫—Ä—ã–≤–∞–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É, –µ—Å–ª–∏ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞
    } else {
        out = `<table>
          <tr><th>–¢–æ–≤–∞—Ä</th><th>–ö–æ–ª-–≤–æ</th><th>–¶–µ–Ω–∞</th><th></th></tr>`;
        let total = 0;
        cart.forEach((item, idx) => {
            let sum = item.price * item.qty;
            total += sum;
            out += `<tr>
            <td>${item.name}</td>
            <td>${item.qty}</td>
            <td>${sum} ‚ÇΩ</td>
            <td><button class="remove" onclick="removeFromCart(${idx})">‚úñ</button></td>
          </tr>`;
        });
        out += `<tr class="total-row"><td colspan="2">–ò—Ç–æ–≥–æ</td><td colspan="2">${total} ‚ÇΩ</td></tr>`;
        out += '</table>';
        cartImage.style.display = 'block';  // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É, –µ—Å–ª–∏ –≤ –∫–æ—Ä–∑–∏–Ω–µ –µ—Å—Ç—å —Ç–æ–≤–∞—Ä—ã
    }
    document.getElementById('cart').innerHTML = out;
}

function saveCartToLocalStorage() {
    localStorage.setItem('cart', JSON.stringify(cart));
}

function loadCartFromLocalStorage() {
    const cartData = localStorage.getItem('cart');
    cart = cartData ? JSON.parse(cartData) : [];
}

loadCartFromLocalStorage();
renderCart();
  </script>
  <script src="..\js\katalog.js"></script>
</body>
</html>